<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width,initial-scale=1" />
    <title>Journal — New Text Note</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet">
    <style>
      :root {
        --bg: #fff7f0;
        --panel: #ffffff;
        --ink: #3a3a3a;
        --muted: #8c8c8c;
        --acc1: #ffd6e7;
        --acc2: #d9f2ff;
        --acc3: #e8ffd6;
        --line: #f0e7de;
        --shadow: 0 10px 30px rgba(0,0,0,0.08);
      }
      * { box-sizing: border-box; }
      html, body { height: 100%; }
      body {
        margin: 0;
        font-family: "Inter", system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial, "Apple Color Emoji", "Segoe UI Emoji";
        background:
          radial-gradient(800px 500px at 20% -10%, rgba(255, 214, 231, 0.5), transparent 60%),
          radial-gradient(900px 600px at 110% 110%, rgba(217, 242, 255, 0.5), transparent 60%),
          var(--bg);
        color: var(--ink);
        display: grid;
        place-items: center;
      }
      main {
        width: min(760px, 92vw);
        background: var(--panel);
        border: 1px solid var(--line);
        border-radius: 20px;
        padding: 28px 28px 22px;
        box-shadow: var(--shadow);
      }
      h1 { margin: 0 0 8px; font-size: clamp(26px, 4vw, 38px); }
      p.helper { margin: 6px 0 16px; color: var(--muted); }
      textarea { width: 100%; min-height: 200px; padding: 14px; border-radius: 14px; border: 1px solid var(--line); background: #fff; color: var(--ink); }
      .actions { display: grid; grid-template-columns: 1fr; gap: 12px; margin-top: 16px; }
      .btn, a.btn { text-decoration: none; display: block; width: 100%; text-align: center; color: var(--ink); background: linear-gradient(90deg, var(--acc2), var(--acc3)); padding: 12px 16px; border-radius: 14px; font-weight: 800; border: 1px solid var(--line); cursor: pointer; box-shadow: var(--shadow); transition: transform 120ms ease, box-shadow 120ms ease, background 200ms ease; }
      .btn.secondary { background: linear-gradient(90deg, var(--acc1), #fff); }
      .btn:hover { transform: translateY(-1px); box-shadow: 0 14px 28px rgba(0,0,0,0.12); }
      .btn:active { transform: translateY(0); box-shadow: var(--shadow); }
      .msg { margin-top: 10px; color: var(--muted); min-height: 18px; }
    </style>
    <script defer src="/scripts.js"></script>
  </head>
  <body>
    <main>
      <h1>New Text Note</h1>
      <p class="helper">Write your entry below and save it to your Journal.</p>
      <textarea id="textInput" placeholder="Write your note..."></textarea>
      <div class="actions">
        <button id="btnSave" class="btn">Save</button>
        <a href="/" class="btn secondary">← Back to Home</a>
      </div>
      <div id="msg" class="msg"></div>
    </main>
    <script>
      (function(){
        const input = document.getElementById('textInput');
        const btnSave = document.getElementById('btnSave');
        const msg = document.getElementById('msg');
        function showMsg(s){ msg.textContent = s; }
        btnSave.addEventListener('click', () => {
          const content = input.value.trim();
          if(!content){ showMsg('Please enter some text.'); return; }
          const ts = window.Notes.formatTimestamp(new Date());
          window.Notes.addNote({ type: 'text', content, timestamp: ts });
          input.value = '';
          showMsg('Saved!');
        });
      })();
    </script>
  </body>
</html>
